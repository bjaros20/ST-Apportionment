#Attempt to Get Revenue in R
install.packages("readxl")
install.packages("tidyr")
install.packages("dplyr")
install.packages("did")
install.packages("tidyverse")
install.packages("lmtest")
library(readxl)
library(tidyr)
library(dplyr)
library(did)
library(tidyverse)
library(lmtest)
Census State and Local Data- Tax Foundation
# Census State and Local Data- Tax Foundation
install.packages("readxl")
install.packages("tidyr")
install.packages("dplyr")
install.packages("tidyverse")
install.packages("xlsx")
library(readxl)
library(tidyr)
library(dplyr)
library(tidyverse)
library(xlsx)
#Nebraska or "Direct Switchers DiD Approach"
#Run DiD with all the Direct Switchers (NE, MO, MS, CO, RI, ND, DE)
#Control Group is all States that Did not Switch by 2007.
#this includes: AK, HI, KS, NM, OK.  AL and MT between 2008-now became "Step
#-wise" switchers.  FL and MA had DWS over the whole period 1976-2022.
library(tidyr)
library(dplyr)
library(tidyverse)
# for robust standard error estimation
library(lmtest)
# To calculate correct vcov matrix with 2WFE
library(multiwayvcov)
# For a package way to do FE
library(plm)
#Fixest
install.packages("fixest")
library(fixest)
#Load Data Tables in R
install.packages("data.table")
# Get rate of change for tax bases and find elasticity of tax base w.r.t apportionment and rate changes.
#Redo Callaway and Sant'Anna From Summer
library(readxl)
library(tidyr)
library(dplyr)
library(did)
library(tidyverse)
library(lmtest)
library(caret)
library(ggplot2)
#New Directory
setwd("~/Documents/GitHub/ST_Apportionment/Rates_Of_Change")
# This is document for estimating the own-price, cross-price, and british own-price
#elasticities for tobacco.
#I am going to start by methodogically loaded all the data.
#Plots for tariffs in colonial Chesapeake, ch. 2
#Load Packages
library(tidyr)
library(dplyr)
library(tidyverse)
library(ggplot2)
library(ggthemes)
library(readxl)
library(slider)
library(stringr)
library(janitor)
# set seed
set.seed(26)
# Using 3-3-25 as a guide, I am going to estimate the log CI tax revenue, log NonCI
#tax revenue, and proxy log CI results using the TWFE, DiD, event-study DiD
# I will estimate these for 2006/2007, 2006 alone, and 2007 alone
# with 2015-2018 as the control group.
# Load required libraries
library(tidyr)
library(dplyr)
library(fixest)
library(plm)
library(lmtest)
library(sandwich)
# Set working directory (modify as needed)
setwd("~/Documents/GitHub/ST-Apportionment/job_market_data")
# Load data
data <- read.csv("real_log_nci.csv")
View(data)
# --- Filter for 2006 and late switchers (GA, WI), from 1990 to 2014
data_2006 <- data %>%
filter(year_effective %in% c(2006, 2015, 2016, 2017, 2018),
year >= 1990, year <= 2014) %>%
mutate(
Treated = ifelse(year_effective == 2006, 1, 0),
Post = ifelse(year >= year_effective, 1, 0),
DiD = Treated * Post
)
View(data_2006)
View(data_2006)
# --- TWFE and Simple DiD
model_twfe_2006 <- feols(logRealCitRev ~ (Post*Treated) | State_Acronym + year, data = data_2006)
model_did_2006  <- feols(logRealCitRev ~ Treated + Post + DiD, data = data_2006)
model_did_2006 <- feols(logRealCitRev ~ Treated + Post + Treated:Post, data = data_2006)
View(model_twfe_2006)
