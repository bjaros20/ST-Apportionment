#Attempt to Get Revenue in R
install.packages("readxl")
install.packages("tidyr")
install.packages("dplyr")
install.packages("did")
install.packages("tidyverse")
install.packages("lmtest")
library(readxl)
library(tidyr)
library(dplyr)
library(did)
library(tidyverse)
library(lmtest)
Census State and Local Data- Tax Foundation
# Census State and Local Data- Tax Foundation
install.packages("readxl")
install.packages("tidyr")
install.packages("dplyr")
install.packages("tidyverse")
install.packages("xlsx")
library(readxl)
library(tidyr)
library(dplyr)
library(tidyverse)
library(xlsx)
#Nebraska or "Direct Switchers DiD Approach"
#Run DiD with all the Direct Switchers (NE, MO, MS, CO, RI, ND, DE)
#Control Group is all States that Did not Switch by 2007.
#this includes: AK, HI, KS, NM, OK.  AL and MT between 2008-now became "Step
#-wise" switchers.  FL and MA had DWS over the whole period 1976-2022.
library(tidyr)
library(dplyr)
library(tidyverse)
# for robust standard error estimation
library(lmtest)
# To calculate correct vcov matrix with 2WFE
library(multiwayvcov)
# For a package way to do FE
library(plm)
#Fixest
install.packages("fixest")
library(fixest)
#Load Data Tables in R
install.packages("data.table")
# Get rate of change for tax bases and find elasticity of tax base w.r.t apportionment and rate changes.
#Redo Callaway and Sant'Anna From Summer
library(readxl)
library(tidyr)
library(dplyr)
library(did)
library(tidyverse)
library(lmtest)
library(caret)
library(ggplot2)
#New Directory
setwd("~/Documents/GitHub/ST_Apportionment/Rates_Of_Change")
# This is document for estimating the own-price, cross-price, and british own-price
#elasticities for tobacco.
#I am going to start by methodogically loaded all the data.
#Plots for tariffs in colonial Chesapeake, ch. 2
#Load Packages
library(tidyr)
library(dplyr)
library(tidyverse)
library(ggplot2)
library(ggthemes)
library(readxl)
library(slider)
library(stringr)
library(janitor)
# set seed
set.seed(26)
# Severance Tax- Two Way Fixed Effects
# will need to include all states, even those with ZERO SEVERANCE TAX, following dougan Input
#Load Packages
library(tidyr)
library(dplyr)
library(tidyverse)
library(lmtest)
library(ggplot2)
library(readxl) #load ssfa switch date
library(did) # for running DiD
library(caret)
library(plm) # for Two way FE
library(fixest) # multiple FE
library(broom) #extract coefficients for each state
# set seed
set.seed(26)
#JMP Directory
setwd("~/Documents/GitHub/ST-Apportionment/job_market_data")
sev <- read.csv(Sev_early_switch.csv)
sev <- read.csv("Sev_early_switch.csv")
View(sev)
str(sev)
# set seed
set.seed(26)
#JMP Directory
setwd("~/Documents/GitHub/projects")
#Load Packages
library(tidyr)
library(dplyr)
library(tidyverse)
library(lmtest)
library(ggplot2)
library(readxl) #load ssfa switch date
library(did) # for running DiD
library(caret)
library(plm) # for Two way FE
library(fixest) # multiple FE
library(broom) #extract coefficients for each state
# set seed
set.seed(26)
#JMP Directory
setwd("~/Documents/GitHub/projects")
View(sev)
# ------------------------------
# 1) Load the "all states" base
# ------------------------------
sev <- read_csv("path/to/Severance_Cap_mutate.csv")
# load Packages
library(dplyr)
library(readr)
library(stringr)
library(broom)
library(broom.helpers)   # nice label helpers (optional)
install.packages("broom.helpers")
library(broom.helpers)   # nice label helpers (optional)
library(sandwich)        # robust/clustered vcov
library(lmtest)          # coeftest
library(texreg)          # LaTeX table
# ------------------------------
# 1) Load the "all states" base
# ------------------------------
sev <- read_csv("path/to/Severance_Cap_mutate.csv")
getwd()        # shows your current working directory
list.files()
# ------------------------------
# 1) Load the "all states" base
# ------------------------------
sev <- read_csv("/Users/ben/Documents/GitHub/ST-Apportionment/job_market_data/Severance_Cap_mutate.csv")
# Sanity: create 'adopt_year' = first year_effective per state
sev <- sev %>%
group_by(state) %>%
mutate(adopt_year = ifelse(year_effective > 0, year_effective, NA_integer_),
adopt_year = min(adopt_year, na.rm = TRUE)) %>%
mutate(adopt_year = ifelse(is.infinite(adopt_year), NA_integer_, adopt_year)) %>%
ungroup()
# ------------------------------
# 1) Load the "all states" base
# ------------------------------
sev <- read_csv("/Users/ben/Documents/GitHub/ST-Apportionment/job_market_data/Severance_Cap_mutate.csv")
# Sanity: create 'adopt_year' = first year_effective per state
sev1 <- sev %>%
group_by(state) %>%
mutate(adopt_year = ifelse(year_effective > 0, year_effective, NA_integer_),
adopt_year = min(adopt_year, na.rm = TRUE)) %>%
mutate(adopt_year = ifelse(is.infinite(adopt_year), NA_integer_, adopt_year)) %>%
ungroup()
View(sev1)
