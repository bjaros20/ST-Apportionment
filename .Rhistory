#Attempt to Get Revenue in R
install.packages("readxl")
install.packages("tidyr")
install.packages("dplyr")
install.packages("did")
install.packages("tidyverse")
install.packages("lmtest")
library(readxl)
library(tidyr)
library(dplyr)
library(did)
library(tidyverse)
library(lmtest)
Census State and Local Data- Tax Foundation
# Census State and Local Data- Tax Foundation
install.packages("readxl")
install.packages("tidyr")
install.packages("dplyr")
install.packages("tidyverse")
install.packages("xlsx")
library(readxl)
library(tidyr)
library(dplyr)
library(tidyverse)
library(xlsx)
#Attempt to Get Cross Partial of State CIT Collections, Other Rev w.r.t Sales Factor Weight
library(tidyr)
library(dplyr)
library(tidyverse)
# Read in DF
Rev <- read.csv("SALT_App_Merge_2024.csv")
library(tidyr)
library(dplyr)
library(tidyverse)
#set working directory
setwd("~/Documents/GitHub/ST-Apportionment/CrossPartial")
# Read in DF
Rev <- read.csv("SALT_App_Merge_2024.csv")
View(Rev)
Rev2 <- Rev %>%
filter(year=1976,)
Rev2 <- Rev %>%
filter(year==1976,)
View(Rev2)
Rev2 <- Rev %>%
filter(year==1976:)
Rev2 <- Rev %>%
filter(year==1976-2023)
Rev2 <- Rev %>%
filter(year==(1976:2023))
Rev2 <- Rev %>%
filter(year== (1976:2023))
Rev2 <- Rev %>%
filter(year== c(1976:2023))
Rev2 <- Rev %>%
filter(year >=1976 & year <=2023))
Rev2 <- Rev %>%
filter(c(year >=1976 & year <=2023))
View(Rev2)
Rev2 <- Rev %>%
filter(c(year >=1976 & year <=2022))
Rev2 <- Rev %>%
filter(c(year >=1976 & year <=2023))
View(Rev2)
View(Rev2)
library(bacondecomp)
install.packages("bacondecomp")
library(bacondecomp)
library(lmtest)
# To calculate correct vcov matrix with 2WFE
library(multiwayvcov)
install.packages("multiwayvcov")
library(multiwayvcov)
library(plm)
install.packages("plm")
# For a package way to do FE
library(plm)
Rev2['treatment'] <- 0
Rev2[which(Rev2$state=="NE" & Rev2$year>1991),"treatment"]<-1
View(Rev2)
Rev2[which(Rev2$state=="Nebraska" & Rev2$year>1991),"treatment"]<-1
fit_tw <- lm(CORPINCTAX ~ treatment + factor(state) + factor(year),
data = Rev2)
fit_tw <- lm(CORPINCTX ~ treatment + factor(state) + factor(year),
data = Rev2)
View(fit_tw)
summary(fit_tw)
ggplot(fit_tw)
ggpdid(fit_tw)
event_study = function(data, yname, idname, gname, tname,
xformla = NULL, weights = NULL,
estimator = c("all", "TWFE", "did2s", "did", "impute", "sunab",
"staggered")
combined_clean_df <-read.csv("Long_Gir_My_App_Comb_clean.csv")
combined_clean_df <-read.csv("Long_Gir_My_App_Comb_clean.csv")
setwd("~/Documents/GitHub/ST-Apportionment")
combined_clean_df <-read.csv("Long_Gir_My_App_Comb_clean.csv")
# Sort Sales Factor By Just Year
ggplot(combined_clean_df, aes(x=year,y=sales,color=state))+geom_line()+
labs(x="Year",y="Sales")+
theme_minimal() +
scale_color_discrete(name="State")
